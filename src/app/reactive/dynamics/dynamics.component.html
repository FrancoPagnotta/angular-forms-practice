<h2>Reactive Dynamics</h2>
<hr>

<div class="row w-50">
	<div class="col">
		<form [formGroup]="myForm" autocomplete="off">
			<div class="form-group mb-2">
				<label> Name </label>
				<input type="text" 
					   class="form-control"
					   formControlName="name"
					   placeholder="name">
			</div>
			<span *ngIf="isInvalid('name')" 
				  class="text-danger"> The name must have minimum 4 characters. </span>
			
			<div class="form-group mb-2">
				<label> Add </label>
				<div class="input-group mb-3">
					<input type="text" 
						   class="form-control" 
						   placeholder="Add favorite"
						   [formControl]="addFav"
						   (keyup.enter)="addFavorite()">
					<div class="input-group-append">
					  	<button class="btn btn-outline-primary mx-1" 
					  			type="button"
								(click)="addFavorite()">
							Add
						</button>
					</div>
				</div>
				<span *ngIf="addFavControlIsInvalid()" 
					  class="text-danger"> 
			  		One favorite at least. 
		  		</span>
			</div>

			<div class="mb-3">
				<label> Favorites </label>
				<div class="input-group" formArrayName="favorites">
					<div *ngFor="let favorite of favoritesFormArray.controls; let i = index" class="input-group-append mb-1">
						<input [formControlName]="i" class="form-control">
						<button class="btn btn-outline-danger mx-1" 
								type="button"
								(click)="deleteFavorite(i)"> 
							Del 
						</button>
					</div>
				</div>
			</div>

			<button type="button" 
					class="btn btn-primary mt-3"
					(click)="save()"> 
					Save 
			</button>

		</form>
	</div>
</div>


<div class="">
	<div class="">
		{{ myForm.valid | json }}
	</div>
</div>